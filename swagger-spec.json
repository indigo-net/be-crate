{
  "openapi": "3.0.0",
  "paths": {
    "/auth/signup": {
      "post": {
        "operationId": "AuthController_signup",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SignupDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "tags": [
          "Auth"
        ]
      }
    },
    "/auth/login": {
      "post": {
        "operationId": "AuthController_login",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "tags": [
          "Auth"
        ]
      }
    },
    "/auth/kakao": {
      "post": {
        "operationId": "AuthController_kakaoLogin",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/KakaoLoginDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "tags": [
          "Auth"
        ]
      }
    },
    "/auth/refresh": {
      "post": {
        "operationId": "AuthController_refresh",
        "parameters": [],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "tags": [
          "Auth"
        ]
      }
    },
    "/auth/logout": {
      "post": {
        "operationId": "AuthController_logout",
        "parameters": [],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "tags": [
          "Auth"
        ]
      }
    },
    "/auth/me": {
      "get": {
        "operationId": "AuthController_me",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "tags": [
          "Auth"
        ]
      }
    },
    "/forms": {
      "post": {
        "description": "제목과 설명을 입력받아 새로운 폼을 생성합니다.",
        "operationId": "FormsController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFormDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "생성 성공"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "새로운 폼 생성",
        "tags": [
          "Forms"
        ]
      },
      "get": {
        "description": "사용자가 생성한 모든 폼 목록을 조회합니다.",
        "operationId": "FormsController_findAll",
        "parameters": [],
        "responses": {
          "200": {
            "description": "조회 성공"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "내 폼 목록 조회",
        "tags": [
          "Forms"
        ]
      }
    },
    "/forms/{id}": {
      "get": {
        "description": "특정 폼의 상세 정보를 조회합니다.",
        "operationId": "FormsController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "폼 ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "조회 성공"
          },
          "404": {
            "description": "폼을 찾을 수 없음"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "폼 상세 조회",
        "tags": [
          "Forms"
        ]
      },
      "patch": {
        "description": "폼의 제목이나 설명을 수정합니다.",
        "operationId": "FormsController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "폼 ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateFormDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "수정 성공"
          },
          "404": {
            "description": "폼을 찾을 수 없음"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "폼 정보 수정",
        "tags": [
          "Forms"
        ]
      },
      "delete": {
        "description": "폼을 삭제합니다 (Soft Delete).",
        "operationId": "FormsController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "폼 ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "삭제 성공"
          },
          "404": {
            "description": "폼을 찾을 수 없음"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "폼 삭제",
        "tags": [
          "Forms"
        ]
      }
    },
    "/forms/draft": {
      "post": {
        "description": "폼 정보와 질문 목록을 포함하여 초안 상태로 저장합니다.",
        "operationId": "FormsController_createDraft",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFormDraftDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "저장 성공"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "폼 초안 저장 (전체)",
        "tags": [
          "Forms"
        ]
      }
    },
    "/forms/publish": {
      "post": {
        "description": "폼 정보와 질문 목록을 포함하여 게시 상태로 저장합니다.",
        "operationId": "FormsController_publish",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFormPublishDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "게시 성공"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "폼 게시 (전체)",
        "tags": [
          "Forms"
        ]
      }
    },
    "/forms/{formId}/questions": {
      "post": {
        "operationId": "QuestionsController_create",
        "parameters": [
          {
            "name": "formId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateQuestionDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "tags": [
          "Questions"
        ]
      },
      "get": {
        "operationId": "QuestionsController_findAll",
        "parameters": [
          {
            "name": "formId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "tags": [
          "Questions"
        ]
      }
    },
    "/forms/{formId}/questions/reorder": {
      "patch": {
        "operationId": "QuestionsController_reorder",
        "parameters": [
          {
            "name": "formId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReorderQuestionsDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "tags": [
          "Questions"
        ]
      }
    },
    "/forms/{formId}/questions/{id}": {
      "patch": {
        "operationId": "QuestionsController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "질문 ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "formId",
            "required": true,
            "in": "path",
            "description": "폼 ID",
            "schema": {}
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateQuestionDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "tags": [
          "Questions"
        ]
      },
      "delete": {
        "operationId": "QuestionsController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "질문 ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "formId",
            "required": true,
            "in": "path",
            "description": "폼 ID",
            "schema": {}
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "tags": [
          "Questions"
        ]
      }
    },
    "/questions/{questionId}/options": {
      "post": {
        "operationId": "QuestionOptionsController_create",
        "parameters": [
          {
            "name": "questionId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateQuestionOptionDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "QuestionOptions"
        ]
      },
      "delete": {
        "operationId": "QuestionOptionsController_delete",
        "parameters": [
          {
            "name": "questionId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeleteQuestionOptionDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "QuestionOptions"
        ]
      }
    },
    "/questions/{questionId}/options/reorder": {
      "patch": {
        "operationId": "QuestionOptionsController_reorder",
        "parameters": [
          {
            "name": "questionId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReorderQuestionOptionDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "QuestionOptions"
        ]
      }
    },
    "/responses": {
      "post": {
        "description": "작성한 설문 응답을 제출합니다.",
        "operationId": "ResponseController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateResponseDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "제출 성공"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "설문 응답 제출",
        "tags": [
          "Responses"
        ]
      }
    }
  },
  "info": {
    "title": "CRATE API",
    "description": "CRATE Backend API",
    "version": "1.0",
    "contact": {}
  },
  "tags": [],
  "servers": [],
  "components": {
    "securitySchemes": {
      "bearer": {
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "type": "http"
      }
    },
    "schemas": {
      "SignupDto": {
        "type": "object",
        "properties": {}
      },
      "LoginDto": {
        "type": "object",
        "properties": {}
      },
      "KakaoLoginDto": {
        "type": "object",
        "properties": {}
      },
      "CreateFormDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "폼 제목",
            "example": " 설문조사 제목"
          },
          "description": {
            "type": "string",
            "description": "폼 설명",
            "example": "설문조사에 대한 설명입니다."
          }
        },
        "required": [
          "title"
        ]
      },
      "UpdateFormDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "폼 제목 수정",
            "example": "수정된 설문조사 제목"
          },
          "description": {
            "type": "string",
            "description": "폼 설명 수정",
            "example": "수정된 설문조사 설명"
          }
        }
      },
      "CreateFormPayloadDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "폼 제목",
            "example": "설문조사 제목"
          },
          "description": {
            "type": "string",
            "description": "폼 설명",
            "example": "설문조사 설명"
          }
        },
        "required": [
          "title"
        ]
      },
      "CreateQuestionOptionDto": {
        "type": "object",
        "properties": {}
      },
      "CreateQuestionDto": {
        "type": "object",
        "properties": {}
      },
      "CreateFormDraftDto": {
        "type": "object",
        "properties": {
          "form": {
            "description": "폼 기본 정보",
            "allOf": [
              {
                "$ref": "#/components/schemas/CreateFormPayloadDto"
              }
            ]
          },
          "questions": {
            "description": "질문 목록",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreateQuestionDto"
            }
          }
        },
        "required": [
          "form",
          "questions"
        ]
      },
      "CreateFormPublishDto": {
        "type": "object",
        "properties": {
          "form": {
            "description": "폼 기본 정보",
            "allOf": [
              {
                "$ref": "#/components/schemas/CreateFormPayloadDto"
              }
            ]
          },
          "questions": {
            "description": "질문 목록",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreateQuestionDto"
            }
          }
        },
        "required": [
          "form",
          "questions"
        ]
      },
      "ReorderQuestionsDto": {
        "type": "object",
        "properties": {
          "questionIds": {
            "example": [
              "d4c6893f-12a5-4974-9e59-ce0c29e36d43",
              "e734dd9c-a144-409f-a3ff-74daa7dece88",
              "9602fcf0-c74e-4845-92b6-224da3837ee6"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "questionIds"
        ]
      },
      "UpdateQuestionDto": {
        "type": "object",
        "properties": {}
      },
      "ReorderQuestionOptionDto": {
        "type": "object",
        "properties": {}
      },
      "DeleteQuestionOptionDto": {
        "type": "object",
        "properties": {}
      },
      "CreateResponseAnswerDto": {
        "type": "object",
        "properties": {
          "questionId": {
            "type": "string",
            "description": "질문 ID",
            "example": "uuid-question-id"
          },
          "valueText": {
            "type": "string",
            "description": "주관식 답변 (단답/장문)",
            "example": "답변 내용입니다."
          },
          "optionId": {
            "type": "string",
            "description": "객관식 선택지 ID",
            "example": "uuid-option-id"
          }
        },
        "required": [
          "questionId"
        ]
      },
      "CreateResponseDto": {
        "type": "object",
        "properties": {
          "formId": {
            "type": "string",
            "description": "폼 ID",
            "example": "uuid-form-id"
          },
          "publicToken": {
            "type": "string",
            "description": "퍼블릭 토큰 (비회원 응답 시)",
            "example": "public-token-string"
          },
          "answers": {
            "description": "응답 목록",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreateResponseAnswerDto"
            }
          }
        },
        "required": [
          "formId",
          "answers"
        ]
      }
    }
  }
}